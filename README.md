# NFL_Offensive_Plays_2015
Includes code that scrapes Pro-Football-Reference.com for play-by-play data from the 2015 NFL season, then trains a logistic regression model on data from the first eight weeks of the season to predict whether plays in the remaing weeks would be runs or passes.

Note: these programs require MySQL 5.7 and the MySQLdb Python package to work.

Three files are included: import_game_pbp_data.py scrapes Pro-Football-Reference.com for play-by-play data from all games in the 2015 NFL season, organizes this data into tables with offensive plays for each team, then stores that data into a MySQL database called "NFL_Offensive_Plays_2015". The database has one table for each team, and for each offensive play, the tables include: the week of the season; the time remaining in seconds; the down; the yards to go for a first down (called "To Go"); the field position, with 0 indicating the offense's own goal line and 100 indicating the defense's goal line; the score differential, which is positive if the offense is leading and negative if the offense is losing; and a quantity called IsPass, which is 0 if the play was a run and 1 if the play was a pass.

NFL_Off_Plays_2015_Hists.ipynb queries the database to generate histograms that show how the probability of a passing play changes with respect to down, distance to go, field position, and (score differential)/(time remaining). In particular, the histograms show that teams pass more often: on later downs; when there is farther to go to get a first down; when the team is far from either goal line; and when (score differential)/(time remaining) is very negative, that is, when the team is losing late in the game. These are the assumptions I make when creating the logistic regression model in NFL_Off_Plays_Logit. While the notebook by default queries the Balitmore Ravens' table to make the histograms, these same trends can be seen by querying the tables of other teams.

NFL_Off_Plays_2015_Logit.ipynb queries the database resulting from import_game_pbp_data.py to train a logistic regression model on the first eight weeks of offensive play data for each team. The model then tries to predict whether plays from the remaining weeks will be runs or passes. For most teams, the model is able to correctly predict about 2/3 of plays. The last part of the notebook explores correleations between how well the model was able to predict each team's plays and the success of that team's offense. None of the correlations are statistically significant with a confidence interval of 95%.
